<!DOCTYPE html><html lang="Zh-tw"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ANGULAR | akveo/nebular 系列 - 2.4. 啟用主題系統 | 中文 · PickOneFish's Blog</title><meta name="description" content="Nebular 主題系統是一套規則， 我們將如何組織 SCSS 文件和變數以實現以下目標。"><meta name="keywords" content="Nebular,akveo/Nebular,ngx-admin,Smart-On-FHIR,Angular,FHIR"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://pickonefish.github.io/atom.xml" title="PickOneFish's Blog"><link rel="search" type="application/opensearchdescription+xml" href="https://pickonefish.github.io/search.xml" title="PickOneFish's Blog"><link rel="search" type="application/opensearchdescription+xml" href="https://pickonefish.github.io/sitemap.xml" title="PickOneFish's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about-me/" target="_self" class="nav-list-link">關於我</a></li><li class="nav-list-item"><a href="/about-me/index-en.html" target="_self" class="nav-list-link">ABOUTME</a></li><li class="nav-list-item"><a href="https://github.com/pickonefish" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><h1 class="post-title">ANGULAR | akveo/nebular 系列 - 2.4. 啟用主題系統 | 中文</h1><div id="toc" class="toc-article"><strong class="toc-title">Table Of Contents<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#啟用主題系統"><span class="toc-number">1.</span> <span class="toc-text">啟用主題系統</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#基礎設定"><span class="toc-number">1.1.</span> <span class="toc-text">基礎設定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一般設定"><span class="toc-number">1.2.</span> <span class="toc-text">一般設定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#進階設定"><span class="toc-number">1.3.</span> <span class="toc-text">進階設定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#相關文章"><span class="toc-number">1.4.</span> <span class="toc-text">相關文章</span></a></li></ol></li></ol></strong></div><div class="post"><article class="post-block"><div class="post-info">2018/08/01</div><div class="post-content"><p>原文：<a href="https://akveo.github.io/nebular/docs/guides/enable-theme-system#advanced-setup" target="_blank" rel="noopener">https://akveo.github.io/nebular/docs/guides/enable-theme-system#advanced-setup</a></p>
<h1 id="啟用主題系統"><a href="#啟用主題系統" class="headerlink" title="啟用主題系統"></a>啟用主題系統</h1><blockquote>
<p><strong>注意</strong><br>如果您使用我們的 <a href="install-starter-kit">ngx-admin 入門套件</a> 那麼您已經有了進階設定。</p>
</blockquote>
<h2 id="基礎設定"><a href="#基礎設定" class="headerlink" title="基礎設定"></a>基礎設定</h2><p><strong>當</strong>：你只須要 Nebular 提供的預設樣式（宇宙樣式 cosmic 或是預設樣式 default），且不打算使用變數或是「熱載 hot-reload」 支援。</p>
<p>1) 那麼您只須要加入一個你想要使用的主題的 CSS 檔案到 <code>.angular-cli.json</code> 檔案像是:</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"styles": [</span><br><span class="line">        <span class="string">"../node_modules/@nebular/theme/styles/prebuilt/cosmic.css"</span>, // 或是 default.css</span><br><span class="line">      ],</span><br></pre></td></tr></table></figure>
<p>就這樣！ 未來，如果您須要進階功能您可以簡單地從「一般設定步驟」或是「進階設定步驟」開始使用主題。</p>
<hr>

<h2 id="一般設定"><a href="#一般設定" class="headerlink" title="一般設定"></a>一般設定</h2><p><strong>當</strong>：您希望在您的程式碼中使用主題系統並且能夠更改變數時。</p>
<p><em>注意</em>：這個設定可能看起來有點冗長，遺憾的是 angular-cli 對客製化配置的支援有限；希望未來的版本和外掛支援可以大大簡化。</p>
<p>1) 使用 Nebular 主題宣告建立一個 <code>themes.scss</code> 檔案。我們假設這個主題是以 <code>default</code> 主題為基礎，所以依然命名為 <code>default</code>。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匯入 Nebular 主題系統以及 default 主題</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/theming'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/themes/default'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改變你想要改變的變數或是不設定變數而保留預設值。預設值為白色，讓我們把它變成藍色。</span></span><br><span class="line"><span class="variable">$nb-themes</span>: nb-register-theme((</span><br><span class="line">  color-bg: <span class="number">#4ca6ff</span>,</span><br><span class="line">  shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">#3780c0</span>,</span><br><span class="line">  layout-bg: <span class="number">#ffffff</span>,</span><br><span class="line">  color-fg: <span class="number">#222222</span></span><br><span class="line">), default, default); </span><br><span class="line"><span class="comment">// 第一個 default 為新主題的名稱；第二 default 為以 Nebular 提供的 default 主題為基礎。</span></span><br></pre></td></tr></table></figure>
<p>2) 現在找到您的 <code>styles.scss</code> (或者建立一個然後加入到 <code>.angular-cli.json</code> 的 <code>&quot;styles&quot;: [..]</code> 之下) 並且根據以下程式碼貼上：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 這是您建立的 themes.scss 檔，請確認路徑正確</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'themes'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 框架的元件樣式將使用您的新主題</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/globals'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 安裝框架</span></span><br><span class="line">@<span class="keyword">include</span> nb-install() &#123;</span><br><span class="line">  @<span class="keyword">include</span> nb-theme-global();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>3) 在這個步驟，您已經可以自訂變數以變更元件的外觀與行為。為了能夠將這些（或是新的） 變數使用於客製化的元件中，只需要在任何 <code>*.component.scss</code> 中加入一行 <code>import</code> 。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'../../../@theme/styles/themes'</span>;</span><br><span class="line"></span><br><span class="line">:host &#123;</span><br><span class="line"></span><br><span class="line">  background: nb-theme(card-bg); <span class="comment">// 然後使用這個主題</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意</strong><br>只需要呼叫 <code>nb-theme(variable-name)</code> 函數即可存取變數.</p>
</blockquote>
<p>這個步驟您將得到類似下圖的內容：</p>
<p><img src="/assets/images/articles/blue-theme.png" alt="image"></p>
<hr>

<h2 id="進階設定"><a href="#進階設定" class="headerlink" title="進階設定"></a>進階設定</h2><p><strong>當</strong>：您須要在 run-time 時在多個主題中切換主題時</p>
<p>這個步驟假設您已經完成 <em>一般設定</em> 步驟.</p>
<p>1) 假設您已經有一個來自前一個步驟產生的 <code>default</code> 主題的 <code>themes.scss</code> 檔案，讓我們加入一個新的主題，以 Nebular 的 <code>cosmic</code> 主題為基礎並且命名為 <code>dark</code>:</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 加上 cosmic 主題 import 在原有的 default 主題之下;</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/themes/cosmic'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 並將兩個主題都標記為啟用</span></span><br><span class="line"><span class="variable">$nb-enabled-themes</span>: (default, dark);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改變你想要改變的變數或是不設定變數而保留預設值。預設值為宇宙色，讓我們把它變成黑暗色。</span></span><br><span class="line"><span class="variable">$nb-themes</span>: nb-register-theme((</span><br><span class="line"></span><br><span class="line">  color-bg: <span class="number">#222222</span>,</span><br><span class="line">  shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">#000000</span>,</span><br><span class="line">  color-fg: <span class="number">#303030</span>,</span><br><span class="line">  layout-bg: <span class="number">#ededed</span>,</span><br><span class="line">), dark, cosmic);</span><br></pre></td></tr></table></figure>
<p>所以您的 <code>themes.scss</code> 檔案會看起來是：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/theming'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/themes/default'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~@nebular/theme/styles/themes/cosmic'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$nb-enabled-themes</span>: (default, dark);</span><br><span class="line"></span><br><span class="line"><span class="comment">// default 主題</span></span><br><span class="line"><span class="variable">$nb-themes</span>: nb-register-theme((</span><br><span class="line"></span><br><span class="line">  color-bg: <span class="number">#4ca6ff</span>,</span><br><span class="line">  shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">#3780c0</span>,</span><br><span class="line">  layout-bg: <span class="number">#ffffff</span>,</span><br><span class="line">  color-fg: <span class="number">#222222</span>,</span><br><span class="line">), default, default);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// dark 主題</span></span><br><span class="line"><span class="variable">$nb-themes</span>: nb-register-theme((</span><br><span class="line"></span><br><span class="line">  color-bg: <span class="number">#222222</span>,</span><br><span class="line">  shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">#000000</span>,</span><br><span class="line">  color-fg: <span class="number">#303030</span>,</span><br><span class="line">  layout-bg: <span class="number">#ededed</span>,</span><br><span class="line">), dark, cosmic);</span><br></pre></td></tr></table></figure>
<p>此時啟用您的 <code>dark</code> 主題您的頁面會看起來像是：</p>
<p><img src="/assets/images/articles/dark-theme.png" alt="image"></p>
<p>2) 現在啟用「熱載　<code>hot reload</code>」的魔術，打包您所有含有 <code>nb-install-component</code> 的 <code>*.component.scss</code> 樣式 像是：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'../../../@theme/styles/themes'</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">include</span> nb-install-component() &#123;</span><br><span class="line">  <span class="attribute">background</span>: nb-theme(card-bg); <span class="comment">// 對於每一個被註冊的主題鑲嵌相對應的值</span></span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: nb-theme(color-bg);</span><br><span class="line">    <span class="attribute">font-weight</span>: nb-theme(font-weight-bold);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意</strong><br>這個 <strong>install-component</strong> SCSS mixin ‘已經涵蓋了’ 宣告在程式碼中的 <strong>:host</strong>，意思是你不需要在 <strong>@include nb-install-component() {</strong> 中而外宣告一個 <strong>:host</strong> 並且樣式也會正確的渲染到這個 <code>host</code>。</p>
</blockquote>
<p>完成，你可以在 run-time 時改變主題。以下是如何從元件中執行這個操作：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用主題服務</span></span><br><span class="line">constructor(private themeService: NbThemeService) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 改變成 `dark`</span><br><span class="line">enableDarkTheme() &#123;</span><br><span class="line">  this.themeService.changeTheme(<span class="string">'dark'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

<h2 id="相關文章"><a href="#相關文章" class="headerlink" title="相關文章"></a>相關文章</h2><ul>
<li><a href="https://akveo.github.io/nebular/docs/guides/theme-system" target="_blank" rel="noopener">Theme System Concepts</a>.</li>
<li><a href="https://akveo.github.io/nebular/docs/themes/default" target="_blank" rel="noopener">Default Theme variables table</a>.</li>
<li><a href="https://akveo.github.io/nebular/docs/themes/cosmic" target="_blank" rel="noopener">Cosmic Theme variables table</a>.</li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/concept-theme-system/" class="next">PREV</a><a href="/auth-intro/" class="prev">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'pickonefish';
var disqus_identifier = 'enabling-theme-system/';
var disqus_title = 'ANGULAR | akveo/nebular 系列 - 2.4. 啟用主題系統 | 中文';
var disqus_url = 'https://pickonefish.github.io/enabling-theme-system/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//pickonefish.disqus.com/count.js" async></script><div class="copyright"><p>© 2018 - 2022 <a href="https://pickonefish.github.io">PickOneFish</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script data-ad-client="ca-pub-6473474968216737" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-122834547-1",'auto');ga('send','pageview');</script></body></html>